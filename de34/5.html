<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>デザイン演習Ⅲ・Ⅳ</title>
        <meta name="description" content="神奈川大学、XBP授業">
        <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
        <link href="https://fonts.googleap.com/css?family=Philosopher" rel="stylesheet">
        <link href="../css/style .css" rel="stylesheet">
        <link rel="icon" type="image/png" href="./images/xbp.ico">
    
    </head>

    <body>
        <div id="news" class="big-bg">
            <header class="page-header wrapper">
                <h1><a href="../index.html"><img class="logo" src="./images/xbp.ico" alt="XBPロゴ"></a></h1>
                <nav>
                    <ul class="main-nav">
                        <li><a href="../de12/index.html">デザイン演習Ⅰ・Ⅱ</a></li>
                        <li><a href="../de34/index.html">デザイン演習Ⅲ・Ⅳ</a></li>
                        <li><a href="../digi_fab/index.html">デジタルファブリケーション</a></li>    
                    </ul>
                </nav>
            </header>
            <div class="wrapper">
                <h2 class="page-title">Project Note</h2>  
            </div>
        </div>


        <div class="news-contents wrapper">
            <article>
                <!---５月27日のやつ-->
                <header class="post-info">
                    <h2 class="post-title">プロトタイピング①</h2>
                    <p class="post-date">5/27<span>2024</span></p>
                    <p class="post-cat">カテゴリー：課題</p>
                    
                   
                </header>
                <h3 class="sub-title">班メンバー</h3>
                <div class="home-content wrapper">
                <a class="button" href="https://hirayamaru.github.io/xbp/">kiichi</a>
                <a class="button" href="https://onoteruyuki.github.io/xbp/">てる</a>
                </div>

                <h3 class="sub-title">企画案</h3>
                <p>今回、私たち３人は、現代人のスマホ依存症に注目し、進んで制限しようと思える制限ケースの作成を考えています。</p>
                <img src="./images/Sample_first.jpg" alt="スケッチ">
                <p>現状考えている案は感圧センサーを使い、ケースにスマホを入れていた時間によって背面ライトの光が増していき、視覚的に自分がどれほど我慢したのかわかるようにしようとしています。</p>
                <img src="./images/Kikaku1.jpg" alt="企画１">

                <!--６月３日のやつ-->

                <header class="post-info">
                    <h2 class="post-title">プロトタイピング②</h2>
                    <p class="post-date">6/3<span>2024</span></p>
                    <p class="post-cat">カテゴリー：課題</p>
                   
                </header>
                <h3 class="sub-title">設計図１</h3>
                <img src="./images/blueprint1.jpeg" alt="設計図１" width="60%">]
                MDFで箱を作り、土台を完成させながら、光で時間を伝えられるようにその上からアクリルをかぶせるようなデザインを考えています。

                <h3 class="sub-title">動作確認</h3>
    
            
                <p>
                    まず、手元に届いた圧力センサーがちゃんと動くのかを確認しました。<br>
                </p>
                <iframe width="896" height="504" src="https://www.youtube.com/embed/NOE-gLTPZx4?si=ruZjs_Lk9SvSpTlq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                <p>
                    参考にしたサイトは<a href="https://toccho.net/2021/10/31/arduino-pressure/">こちら</a>です
                </p>

                <!--６月１０日のやつ-->

                <header class="post-info">
                    <h2 class="post-title">プロトタイピング③</h2>
                    <p class="post-date">6/10<span>2024</span></p>
                    <p class="post-cat">カテゴリー：課題</p>
                   
                </header>
                <h3 class="sub-title">プロトタイプするぞ</h3>
                    <p>まず初めに、スマホを入れるための箱を作りました。
                        毎度のごとく、<a href="https://www.makercase.com/#/">MakerCase</a>を使用してデータを作成。<br>
                        そのデータに充電コード用の穴などをつけています。
                        <img src="./images/Protype_Box1.jpg" width="70%" alt="Protype_Box1">
                    </p>

                    <p>
                    <img src="./images/GtyaGtya1.jpg" width="70%">
                    </p>

                <!--６月１７日のやつ-->

                <header class="post-info">
                    <h2 class="post-title">プロトタイピング④</h2>
                    <p class="post-date">6/17<span>2024</span></p>
                    <p class="post-cat">カテゴリー：課題</p>
                   
                </header>
                <h3 class="sub-title">時間で光り方が変わるコード</h3>
                    <p>
                        先週、プロトタイプの箱が出来たので次は圧力を感知した時間によってＬＥＤテープが光り方が変えられるコードを考えました。<br>
                        完成形のイメージとしては、徐々に光が強くなり、スマホを触っていない時間が「感覚的」にわかるようにしたいのですが
                        とりあえず一定時間ごとに光が増えるようにコードを製作しました。
                    
                    </p>

                    <iframe width="896" height="504" src="https://www.youtube.com/embed/VCr87LnzkB0?si=sMxPD8r0sO4QEt5S" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

                    <p>
                        下記のコードは動画のものに、少し改良を加えたものです。
                    </p>

                    <p><code>
                        <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
                        <li style="background-color:#EFF;">&nbsp;#include &lt;Adafruit_NeoPixel.h&gt; </li>
                        <li style="background-color:#EEF;"></li>
                        <li style="background-color:#EFF;">// NeoPixelの設定 </li>
                        <li style="background-color:#EEF;">#define NUM_PIXELS 5 </li>
                        <li style="background-color:#EFF;">#define PIN_PIXELS 6 </li>
                        <li style="background-color:#EEF;">Adafruit_NeoPixel pixels(NUM_PIXELS, PIN_PIXELS, NEO_GRB + NEO_KHZ800); </li>
                        <li style="background-color:#EFF;"></li>
                        <li style="background-color:#EEF;">// 圧力センサーのピン設定 </li>
                        <li style="background-color:#EFF;">#define PRESSURE_SENSOR_PIN A0 </li>
                        <li style="background-color:#EEF;"></li>
                        <li style="background-color:#EFF;">// LEDの色設定 </li>
                        <li style="background-color:#EEF;">#define LED_COLOR_R 255, 0, 0 </li>
                        <li style="background-color:#EFF;">#define LED_COLOR_Y 255, 255, 0 </li>
                        <li style="background-color:#EEF;">#define LED_COLOR_O 255, 69, 0 </li>
                        <li style="background-color:#EFF;">#define LED_COLOR_W 255, 255, 255 </li>
                        <li style="background-color:#EEF;">#define LED_COLOR_B 0, 0, 255 </li>
                        <li style="background-color:#EFF;"></li>
                        <li style="background-color:#EEF;">// 初期LEDの数 </li>
                        <li style="background-color:#EFF;">int numLEDs = 0; // 最初はLEDはすべて消灯状態 </li>
                        <li style="background-color:#EEF;"></li>
                        <li style="background-color:#EFF;">void setup() { </li>
                        <li style="background-color:#EEF;">pixels.begin(); // NeoPixelの初期化 </li>
                        <li style="background-color:#EFF;">Serial.begin(9600); // シリアル通信の開始（デバッグ用） </li>
                        <li style="background-color:#EEF;">} </li>
                        <li style="background-color:#EFF;"></li>
                        <li style="background-color:#EEF;">void loop() { </li>
                        <li style="background-color:#EFF;">// 圧力センサーの値を読み込む </li>
                        <li style="background-color:#EEF;">int sensorValue = analogRead(PRESSURE_SENSOR_PIN); </li>
                        <li style="background-color:#EFF;"></li>
                        <li style="background-color:#EEF;">if (sensorValue &lt; 200) { // 圧力センサーの閾値（例: 200） </li>
                        <li style="background-color:#EFF;">// 圧力がかかっている場合 </li>
                        <li style="background-color:#EEF;"></li>
                        <li style="background-color:#EFF;">// LEDを点灯させる </li>
                        <li style="background-color:#EEF;">for (int i = 0; i &lt; numLEDs; i++) { </li>
                        <li style="background-color:#EFF;">switch(i) { </li>
                        <li style="background-color:#EEF;">case 0: </li>
                        <li style="background-color:#EFF;">pixels.setPixelColor(i, pixels.Color(LED_COLOR_B)); </li>
                        <li style="background-color:#EEF;">break; </li>
                        <li style="background-color:#EFF;">case 1: </li>
                        <li style="background-color:#EEF;">pixels.setPixelColor(i, pixels.Color(LED_COLOR_W)); </li>
                        <li style="background-color:#EFF;">break; </li>
                        <li style="background-color:#EEF;">case 2: </li>
                        <li style="background-color:#EFF;">pixels.setPixelColor(i, pixels.Color(LED_COLOR_Y)); </li>
                        <li style="background-color:#EEF;">break; </li>
                        <li style="background-color:#EFF;">case 3: </li>
                        <li style="background-color:#EEF;">pixels.setPixelColor(i, pixels.Color(LED_COLOR_O)); </li>
                        <li style="background-color:#EFF;">break; </li>
                        <li style="background-color:#EEF;">case 4: </li>
                        <li style="background-color:#EFF;">pixels.setPixelColor(i, pixels.Color(LED_COLOR_R)); </li>
                        <li style="background-color:#EEF;">break; </li>
                        <li style="background-color:#EFF;">} </li>
                        <li style="background-color:#EEF;">} </li>
                        <li style="background-color:#EFF;">pixels.show(); // LEDに色を表示 </li>
                        <li style="background-color:#EEF;"></li>
                        <li style="background-color:#EFF;">// 5秒待つ </li>
                        <li style="background-color:#EEF;">delay(5000); </li>
                        <li style="background-color:#EFF;"></li>
                        <li style="background-color:#EEF;">// LEDの数を増やす（最大NUM_PIXELSまで） </li>
                        <li style="background-color:#EFF;">if (numLEDs &lt; NUM_PIXELS) { </li>
                        <li style="background-color:#EEF;">numLEDs++; </li>
                        <li style="background-color:#EFF;">} </li>
                        <li style="background-color:#EEF;">} else { </li>
                        <li style="background-color:#EFF;">// 圧力がかかっていない場合、すぐにLEDを消灯させる </li>
                        <li style="background-color:#EEF;">pixels.clear(); // すべてのLEDを消灯 </li>
                        <li style="background-color:#EFF;">pixels.show(); // LEDに反映 </li>
                        <li style="background-color:#EEF;"></li>
                        <li style="background-color:#EFF;">// LEDの数を初期化 </li>
                        <li style="background-color:#EEF;">numLEDs = 0; </li>
                        <li style="background-color:#EFF;">} </li>
                        <li style="background-color:#EEF;"></li>
                        <li style="background-color:#EFF;">delay(100); // 少し待つ</li>
                        <li style="background-color:#EEF;">｝</li>
                        </ol></code></p>

                    <header class="post-info">
                        <h2 class="post-title">完成</h2>
                        <p class="post-date">7/15<span>2024</span></p>
                        <p class="post-cat">カテゴリー：課題</p>
                        
                    </header>
                    <h3 class="sub-title">置けば置くほど光る箱</h3>
                    <p>
                        私たちは、徐々に光が増えていき、１時間を視覚的にわかるように、dfLinkでグラフとしても可視化出来るようにプログラムを組みました。<br>
                        前回のレポートでは出来ていなかった徐々光量が増えて、視覚的に時間がわかるプログラムも完成しています。<br>
                        

                    </p>
                    <iframe width="896" height="504" src="https://www.youtube.com/embed/GXwdkH80agg?si=CpjUE0Pp1OGpOjCQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>

                    </iframe>
                    <h3 class="sub-title">
                        概要
                    </h3>
                    <p>
                        下記のソースコードで徐々に光らせるプログラムは出来るのですが、授業で使ったコードでdfLinkにつなげようとするとうまくいきません。<br>
                        pyファイルのコードには、圧力センサーが圧力数値を０と示した時に、信号を送れないという仕様があるようで、「０になったらスキップする」というプログラムをしてグラフ化することに成功しました。<br>
                        箱の側面にアクリルを配置しているのは光を拡散させるための装飾です。<br>
                        

                    </p>
                    <img src="./images/Gurafu.png">
                    <h3 class="sub-title">
                        反省点
                    </h3>
                    <p>
                        <ul>
                            <li>
                                蓋の開け閉めがやりずらい
                            </li>
                            <li>
                                でかい
                            </li>
                            <li>
                                肉球しかデザインがない
                            </li>
                            <li>
                                パソコンにつなげないとdfLinkでグラフ化ができない
                            </li>
                            
                        </ul>

                    </p>

                    <h3 class="sub-title">
                        ソースコード
                    </h3>
                    <p>
                        <code>
                            <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
                            <li style="background-color:#EFF;">#include &lt;Adafruit_NeoPixel.h&gt;</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">#define NUM_PIXELS 5</li>
                            <li style="background-color:#EEF;">#define PIN_PIXELS 6</li>
                            <li style="background-color:#EFF;">Adafruit_NeoPixel pixels(NUM_PIXELS, PIN_PIXELS, NEO_GRB + NEO_KHZ800);</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">#define PRESSURE_SENSOR_PIN A0</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">#define LED_COLOR_R 255, 0, 0</li>
                            <li style="background-color:#EEF;">#define LED_COLOR_Y 255, 255, 0</li>
                            <li style="background-color:#EFF;">#define LED_COLOR_O 255, 69, 0</li>
                            <li style="background-color:#EEF;">#define LED_COLOR_W 255, 255, 255</li>
                            <li style="background-color:#EFF;">#define LED_COLOR_B 0, 0, 255</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">unsigned long startTime = 0;</li>
                            <li style="background-color:#EEF;">unsigned long elapsedTime = 0;</li>
                            <li style="background-color:#EFF;">const unsigned long ONE_HOUR = 3600000; // 1時間のミリ秒</li>
                            <li style="background-color:#EEF;">const unsigned long LED_INTERVAL = ONE_HOUR / NUM_PIXELS; // 各LEDが点灯を開始する間隔</li>
                            <li style="background-color:#EFF;"></li>
                            <li style="background-color:#EEF;">int currentLED = 0;</li>
                            <li style="background-color:#EFF;">int ledBrightness[NUM_PIXELS] = {0}; // 各LEDの明るさ</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">void setup() {</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;pixels.begin();</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;Serial.begin(9600);</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;pixels.clear();</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;pixels.show();</li>
                            <li style="background-color:#EEF;">}</li>
                            <li style="background-color:#EFF;"></li>
                            <li style="background-color:#EEF;">void loop() {</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;int sensorValue = analogRead(PRESSURE_SENSOR_PIN);</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.println(sensorValue);</li>
                            <li style="background-color:#EFF;"></li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;if (sensorValue &gt;= 201) {</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;// 圧力が201以上の場合、即座に消灯</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;resetLEDs();</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;} else if (sensorValue &lt;= 200) {</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;if (startTime == 0) {</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startTime = millis();</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;}</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;elapsedTime = millis() - startTime;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;unsigned long elapsedMinutes = elapsedTime / 60000;</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.print(<font style="color:brown;">"Elapsed time: "</font>);</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.print(elapsedMinutes);</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println(<font style="color:brown;">" minutes"</font>);</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;updateLEDs();</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;}</li>
                            <li style="background-color:#EFF;">}</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">void resetLEDs() {</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;startTime = 0;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;elapsedTime = 0;</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;currentLED = 0;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;for (int i = 0; i &lt; NUM_PIXELS; i++) {</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;ledBrightness[i] = 0;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;}</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;pixels.clear();</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;pixels.show();</li>
                            <li style="background-color:#EEF;">}</li>
                            <li style="background-color:#EFF;"></li>
                            <li style="background-color:#EEF;">void updateLEDs() {</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;for (int i = 0; i &lt;= currentLED; i++) {</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;if (i == currentLED) {</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 現在のLEDの明るさを徐々に上げる</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned long ledElapsedTime = elapsedTime % LED_INTERVAL;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ledBrightness[i] = map(ledElapsedTime, 0, LED_INTERVAL, 0, 255);</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;} else {</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 既に点灯済みのLEDは最大輝度に設定</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ledBrightness[i] = 255;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;}</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;// LEDの色を設定</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;uint32_t color;</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;switch (i) {</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 0: color = pixels.Color(0, 0, ledBrightness[i]); break; // 青</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 1: color = pixels.Color(ledBrightness[i], ledBrightness[i], ledBrightness[i]); break; // 白</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 2: color = pixels.Color(ledBrightness[i], ledBrightness[i], 0); break; // 黄</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 3: color = pixels.Color(ledBrightness[i], ledBrightness[i] * 69 / 255, 0); break; // オレンジ</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 4: color = pixels.Color(ledBrightness[i], 0, 0); break; // 赤</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;}</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;pixels.setPixelColor(i, color);</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;}</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;pixels.show();</li>
                            <li style="background-color:#EEF;"></li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;// 次のLEDの点灯を開始するタイミングをチェック</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;if (elapsedTime &gt;= (currentLED + 1) * LED_INTERVAL &amp;&amp; currentLED &lt; NUM_PIXELS - 1) {</li>
                            <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;currentLED++;</li>
                            <li style="background-color:#EEF;">&nbsp;&nbsp;}</li>
                            <li style="background-color:#EFF;">}</li>
                            </ol></code>

                    </p>
                 








                
                
               
                
             
            </article>
            <aside>
                <h3 class="sub-title">課題一覧</h3>
                <ul class="sub-menu">
                    <li><a href="1.html">第1回</a></li>
                    <li><a href="2.html">第2回</a></li>
                    <li><a href="3.html">第3回</a></li>
                    <li><a href="4.html">第4回</a></li>
                    <li><a href="5.html">Project Note</a></li>
                 
                </ul>
                

               
                
            </aside>
        </div>
           


        
       
    </body>
 
</html>
